# Subquery

A subquery in SQL is a query written inside another SQL query. It is used to provide intermediate results that the main (outer) query depends on.

In simple terms: one query runs first, and its result is used by another query.


## Definition

A subquery is a **SELECT** statement nested inside:

**SELECT**

**WHERE**

**HAVING**

FROM

INSERT, UPDATE, or DELETE statements

It is also called an inner query or nested query.

# Table to use (employees)
| emp_id | name  | department | salary |
| ------ | ----- | ---------- | ------ |
| 101    | Arjun | IT         | 60000  |
| 102    | Meera | HR         | 35000  |
| 103    | Rahul | IT         | 55000  |
| 104    | Sneha | Finance    | 70000  |
| 105    | Kiran | HR         | 40000  |

**Example 1- Find employees whose salary is greater than the average salary.**

```
SELECT name, salary
FROM employees
WHERE salary > (
    SELECT AVG(salary)
    FROM employees
);
```

**Example 2- Find employees working in departments that have at least one employee earning more than 60,000**

```
SELECT name
FROM employees
WHERE department IN (
    SELECT department
    FROM employees
    WHERE salary > 60000
);
```

**Example 3 - Show employee name and the highest salary in the company.**

```
SELECT name,
       (SELECT MAX(salary) FROM employees) AS max_salary
FROM employees;
```

























